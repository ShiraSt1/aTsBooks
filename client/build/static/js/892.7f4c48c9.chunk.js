"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[892],{4892:(e,s,r)=>{r.r(s),r.d(s,{default:()=>h});var a=r(9379),t=r(5043),l=r(9722),i=r(1045),n=r(2545),c=r(3740),o=r(3488),u=r(828),d=r(579);const h=()=>{const[e,s]=(0,t.useState)(""),[r,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),A=(0,i.Zp)(),[j,v]=(0,t.useState)(!1),N=(0,o.z)().API_URL,[b,w]=(0,t.useState)({email:"",name:"",password:"",phone:""}),y=(0,t.useRef)(null);(0,t.useEffect)((()=>{f(e),S(g),C(r)}),[e,g,r]);const f=e=>{s(e),e?/^\S+@\S+\.\S+$/.test(e)?w((e=>(0,a.A)((0,a.A)({},e),{},{email:""}))):w((e=>(0,a.A)((0,a.A)({},e),{},{email:"Enter a valid email address"}))):w((e=>(0,a.A)((0,a.A)({},e),{},{email:"This field is required"})))},S=e=>{x(e),e?e.length<4?w((e=>(0,a.A)((0,a.A)({},e),{},{name:"At least 4 characters required"}))):w((e=>(0,a.A)((0,a.A)({},e),{},{name:""}))):w((e=>(0,a.A)((0,a.A)({},e),{},{name:"This field is required"})))},C=e=>{h(e),e?e.length<6?w((e=>(0,a.A)((0,a.A)({},e),{},{password:"Minimum 6 characters required"}))):w((e=>(0,a.A)((0,a.A)({},e),{},{password:""}))):w((e=>(0,a.A)((0,a.A)({},e),{},{password:"This field is required"})))},k=Object.values(b).every((e=>""===e))&&e&&g&&r;return(0,d.jsxs)("div",{className:"register-page-container",children:[(0,d.jsx)(u.y,{ref:y}),(0,d.jsxs)("div",{className:"register-form-container",children:[j&&(0,d.jsxs)("div",{className:"loading-container",children:[(0,d.jsx)(c.p,{style:{width:"30px",height:"30px"}}),(0,d.jsx)("p",{children:"Your request is being processed..."})]}),(0,d.jsx)("h2",{className:"register-title",children:"Create an Account"}),(0,d.jsxs)("form",{className:"register-form",children:[(0,d.jsxs)("div",{className:"register-input-wrapper",children:[(0,d.jsx)("label",{className:"register-label",children:"Full Name"}),(0,d.jsx)("input",{type:"text",value:g,onChange:e=>S(e.target.value),className:"register-input",placeholder:"Enter your full name"}),b.name&&(0,d.jsx)("small",{className:"register-error",children:b.name})]}),(0,d.jsxs)("div",{className:"register-input-wrapper",children:[(0,d.jsx)("label",{className:"register-label",children:"Email"}),(0,d.jsx)("input",{type:"email",value:e,onChange:e=>f(e.target.value),className:"register-input",placeholder:"Enter your email address"}),b.email&&(0,d.jsx)("small",{className:"register-error",children:b.email})]}),(0,d.jsxs)("div",{className:"register-input-wrapper",children:[(0,d.jsx)("label",{className:"register-label",children:"Password"}),(0,d.jsx)(n._,{value:r,inputClassName:"register-input",onChange:e=>C(e.target.value),placeholder:"Enter your password",toggleMask:!0,feedback:!1}),b.password&&(0,d.jsx)("small",{className:"register-error",children:b.password})]}),(0,d.jsxs)("div",{className:"register-input-wrapper",children:[(0,d.jsx)("label",{className:"register-label",children:"Phone Number"}),(0,d.jsx)("input",{type:"text",value:p,onChange:e=>{return s=e.target.value,/^\d*$/.test(s)?s.length>10?w((e=>(0,a.A)((0,a.A)({},e),{},{phone:"The phone number can contain up to 10 digits only."}))):w((e=>(0,a.A)((0,a.A)({},e),{},{phone:""}))):w((e=>(0,a.A)((0,a.A)({},e),{},{phone:"The phone number can only contain digits."}))),void m(s);var s},className:"register-input",placeholder:"Enter your phone number"}),b.phone&&(0,d.jsx)("small",{className:"register-error",children:b.phone})]}),(0,d.jsx)("small",{children:"*Your request to join will be sent to Tami Stern. You\u2019ll receive an email once it\u2019s approved."}),(0,d.jsx)("button",{type:"button",onClick:()=>(async(e,s,r,a)=>{v(!0);const t={name:e,email:s,phone:r,password:a};try{const e=await l.A.post("".concat(N,"api/user/register"),t);409===e.status?y.current.show({severity:"error",detail:"This email already has an acount.",life:3e3}):200!==e.status&&201!==e.status||A("/login")}catch(i){y.current.show({severity:"error",detail:"An error acured while sighning up. Please try again later.",life:3e3}),console.error(i)}finally{v(!1)}})(g,e,p,r),className:"register-button",disabled:!k,children:"Register"})]})]})]})}}}]);
//# sourceMappingURL=892.7f4c48c9.chunk.js.map
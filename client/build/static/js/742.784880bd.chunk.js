"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[742],{8742:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});var i=r(1045),o=r(5043),s=r(3003),n=r(9722),d=r(3488),c=r(828),l=r(579);const a=()=>{const{fileId:e}=(0,i.g)(),[t,r]=(0,o.useState)(""),[a,u]=(0,o.useState)(""),[f,h]=(0,o.useState)(!0),{token:p}=(0,s.d4)((e=>e.token)),{user:g}=(0,s.d4)((e=>e.token)),w=(0,d.z)().API_URL,x=(0,o.useRef)(null);(0,o.useEffect)((()=>{e&&m()}),[e]);const m=async()=>{try{const t=await n.A.get("".concat(w,"api/file/view/").concat(e),{headers:{Authorization:"Bearer ".concat(p)}}),{url:i,name:o,contentType:s}=t.data,d=e.split(".").pop().toLowerCase();let c="iframe";["mp4","webm"].includes(d)?c="video":["mp3","wav","ogg"].includes(d)?c="audio":["jpg","jpeg","png","gif","bmp","svg"].includes(d)?c="image":["pdf"].includes(d)?c="pdf":["txt","doc","docx"].includes(d)?c="document":u("iframe"),r(i),u(c),h(!1)}catch(t){console.error("Error in loading file",t),x.current.show({severity:"error",detail:"Error in loading file.",life:3e3}),h(!1)}};return(0,l.jsxs)("div",{style:{padding:"2rem",display:"flex",justifyContent:"center"},children:[(0,l.jsx)(c.y,{ref:x}),(0,l.jsxs)("div",{style:{border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.05)",width:"100%",maxWidth:"1000px",height:"80vh",overflow:"hidden",backgroundColor:"#f9f9f9",position:"relative"},children:[f&&(0,l.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#f9f9f9",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10},children:"Loading file..."}),(()=>{switch(a){case"video":return(0,l.jsxs)("video",{controls:!0,width:"100%",height:"100%",children:[(0,l.jsx)("source",{src:t,type:"video/mp4"}),"Your browser does not support video files."]});case"audio":return(0,l.jsxs)("audio",{controls:!0,style:{width:"100%"},children:[(0,l.jsx)("source",{src:t,type:"audio/mpeg"}),"Your browser does not support audio files."]});case"image":return(0,l.jsx)("img",{src:t,alt:"\u05ea\u05de\u05d5\u05e0\u05d4",style:{width:"100%",height:"100%",objectFit:"contain"}});case"pdf":return(0,l.jsx)("iframe",{src:t,title:"PDF view",width:"100%",height:"100%",style:{border:"none"},onLoad:()=>h(!1),onError:()=>{h(!1),x.current.show({severity:"error",detail:"Error in loading file.",life:3e3})}});case"document":return(0,l.jsx)("iframe",{src:"https://view.officeapps.live.com/op/embed.aspx?src=".concat(encodeURIComponent(t)),title:"File view ",width:"100%",height:"100%",style:{border:"none"}});default:return(0,l.jsx)("iframe",{src:t,title:"File view",width:"100%",height:"100%",style:{border:"none"},onLoad:()=>h(!1),onError:()=>{h(!1),x.current.show({severity:"error",detail:"Error in loading file.",life:3e3})}})}})()]})]})}}}]);
//# sourceMappingURL=742.784880bd.chunk.js.map
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[232],{8232:(e,n,t)=>{t.r(n),t.d(n,{default:()=>L});var r=t(9379),a=t(5043),o=t(4052),i=t(1828),l=t(3316),c=t(2028),s=t(5154),u=t(1414);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d.apply(null,arguments)}var m=a.memo(a.forwardRef((function(e,n){var t=u.z.getPTI(e);return a.createElement("svg",d({ref:n,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))})));m.displayName="ChevronRightIcon";var p=t(4504),f=t(4210);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v.apply(null,arguments)}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e){var n=function(e,n){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==b(n)?n:n+""}function g(e,n,t){return(n=y(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return h(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E={headerIcon:function(e){var n=e.item;return(0,p.xW)("p-menuitem-icon",n.icon)},headerSubmenuIcon:"p-submenu-icon",headerLabel:"p-menuitem-text",headerAction:"p-panelmenu-header-link",panel:function(e){var n=e.item;return(0,p.xW)("p-panelmenu-panel",n.className)},header:function(e){var n=e.active,t=e.item;return(0,p.xW)("p-component p-panelmenu-header",{"p-highlight":n&&!!t.items,"p-disabled":t.disabled})},headerContent:"p-panelmenu-header-content",menuContent:"p-panelmenu-content",root:"p-panelmenu p-component",separator:"p-menuitem-separator",toggleableContent:function(e){var n=e.active;return(0,p.xW)("p-toggleable-content",{"p-toggleable-content-collapsed":!n})},icon:function(e){var n=e.item;return(0,p.xW)("p-menuitem-icon",n.icon)},label:"p-menuitem-text",submenuicon:"p-submenu-icon",content:"p-menuitem-content",action:function(e){var n=e.item;return(0,p.xW)("p-menuitem-link",{"p-disabled":n.disabled})},menuitem:function(e){var n=e.item,t=e.focused,r=e.disabled;return(0,p.xW)("p-menuitem",n.className,{"p-focus":t,"p-disabled":r})},menu:"p-panelmenu-root-list",submenu:"p-submenu-list",transition:"p-toggleable-content"},w=i.x.extend({defaultProps:{__TYPE:"PanelMenu",id:null,model:null,style:null,expandedKeys:null,className:null,onExpandedKeysChange:null,onOpen:null,onClose:null,multiple:!1,transitionOptions:null,expandIcon:null,collapseIcon:null,children:void 0},css:{classes:E,styles:"\n@layer primereact {\n    .p-panelmenu .p-panelmenu-header-link {\n        display: flex;\n        align-items: center;\n        user-select: none;\n        cursor: pointer;\n        position: relative;\n        text-decoration: none;\n    }\n\n    .p-panelmenu .p-panelmenu-header-link:focus {\n        z-index: 1;\n    }\n\n    .p-panelmenu .p-submenu-list {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    .p-panelmenu .p-menuitem-link {\n        display: flex;\n        align-items: center;\n        user-select: none;\n        cursor: pointer;\n        text-decoration: none;\n        text-decoration: none;\n        position: relative;\n        overflow: hidden;\n    }\n\n    .p-panelmenu .p-menuitem-text {\n        line-height: 1;\n    }\n}\n"}});function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=a.memo(a.forwardRef((function(e,n){var t=(0,c.qV)(),r=e.ptm,o=e.cx,i=a.useRef(null),u=function(n,t){return r(n,N({hostName:e.hostName},t))},d=function(e,n,t){return u(n,{context:{item:e,index:t,active:g(e),focused:E(e),disabled:x(e)}})},b=function(n){return"".concat(e.panelId,"_").concat(n.key)},y=function(e,n,t){return e&&e.item?p.BF.getItemValue(e.item[n],t):void 0},g=function(n){var t;return e.activeItemPath&&e.activeItemPath.some((function(e){return e.key===n.key}))||!(null===(t=n.item)||void 0===t||!t.expanded)},h=function(e){return!1!==y(e,"visible")},x=function(e){return y(e,"disabled")},E=function(n){return e.focusedItemId===b(n)},w=function(e){return p.BF.isNotEmpty(e.items)},k=function(n){e.onItemToggle(n)},I=function(n){return n-e.model.slice(0,n).filter((function(e){return h(e)&&y(e,"separator")})).length+1};a.useImperativeHandle(n,(function(){return{getElement:function(){return i.current}}}));var O=function(n,i){var c=n.item;if(!1===h(n))return null;var O=b(n),S=g(n),C=E(n),P=x(c),D=(0,p.xW)("p-menuitem-link",{"p-disabled":c.disabled}),F=(0,p.xW)("p-menuitem-icon",c.icon),B=t({className:o("icon",{item:c})},d(n,"icon",i)),A=p.Hj.getJSXIcon(c.icon,N({},B),{props:e.menuProps}),K=t({className:o("label")},d(n,"label",i)),V=c.label&&a.createElement("span",K,c.label),_=t({className:o("submenuicon")},d(n,"submenuicon",i)),T=c.items&&p.Hj.getJSXIcon(S?e.collapseIcon||a.createElement(s.D,_):e.expandIcon||a.createElement(m,_)),R=function(n,i){var c=a.createRef(),s=t({className:o("toggleableContent",{active:i})},u("toggleableContent"));if(h(n)&&w(n)){var d=t({classNames:o("transition"),timeout:{enter:1e3,exit:450},in:i,unmountOnExit:!0},u("transition"));return a.createElement(l.B,v({nodeRef:c},d),a.createElement("div",v({ref:c},s),a.createElement(j,{id:b(n)+"_list",role:"group",panelId:e.panelId,level:e.level+1,focusedItemId:e.focusedItemId,activeItemPath:e.activeItemPath,onItemToggle:k,menuProps:e.menuProps,model:n.items,expandIcon:e.expandIcon,collapseIcon:e.collapseIcon,ptm:r,cx:o})))}return null}(n,S),H=t({href:c.url||"#",className:o("action",{item:c}),target:c.target,onFocus:function(e){return e.stopPropagation()},tabIndex:"-1"},d(n,"action",i)),L=a.createElement("a",H,T,A,V,a.createElement(f.n,null));if(c.template){var W={className:D,labelClassName:"p-menuitem-text",iconClassName:F,submenuIconClassName:"p-panelmenu-icon",element:L,props:e,leaf:!c.items,active:S};L=p.BF.getJSXElement(c.template,c,W)}var z=t({onClick:function(e){return function(e,n){y(n,"url")||e.preventDefault(),y(n,"command",{originalEvent:e,item:n.item}),k({processedItem:n,expanded:!g(n)})}(e,n)},className:o("content")},d(n,"content",i)),U=t({id:O,className:o("menuitem",{item:c,focused:C,disabled:P}),style:c.style,role:"treeitem","aria-label":c.label,"aria-expanded":w(c)?S:void 0,"aria-level":e.level+1,"aria-setsize":e.model.filter((function(e){return h(e)&&!y(e,"separator")})).length,"aria-posinset":I(i),"data-p-focused":C,"data-p-disabled":P},d(n,"menuitem",i));return a.createElement("li",v({},U,{key:O}),a.createElement("div",z,L),R)},S=function(n,r){return!1===n.visible?null:y(n,"separator")?function(n){var r=e.id+"_sep_"+n,i=t({id:r,className:o("separator"),role:"separator"},u("separator"));return a.createElement("li",v({},i,{key:r}))}(r):O(n,r)},C=e.model?e.model.map(S):null,P=e.root?"menu":"submenu",D=t({id:e.id,ref:i,tabIndex:e.tabIndex,onFocus:e.onFocus,onBlur:e.onBlur,onKeyDown:e.onKeyDown,"aria-activedescendant":e.ariaActivedescendant,role:e.role,className:(0,p.xW)(o(P),e.className)},r(P));return a.createElement("ul",D,C)})));function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}j.displayName="PanelMenuSub";var S=a.memo((function(e){var n=e.ptm,t=e.cx,r=x(a.useState(!1),2),o=r[0],i=r[1],l=x(a.useState(null),2),c=l[0],s=l[1],u=x(a.useState(null),2),d=u[0],m=u[1],f=x(a.useState([]),2),v=f[0],b=f[1],y=x(a.useState(null),2),g=y[0],h=y[1],E=x(a.useState([]),2),w=E[0],k=E[1],N=a.useRef(null),I=a.useRef(null),S=a.useRef(null),C=function(e,n){return e&&e.item?p.BF.getItemValue(e.item[n]):void 0},P=function(){return S.current&&S.current.getElement()},D=function(e){var n=p.BF.isNotEmpty(c)?U(c):W();$({originalEvent:e,processedItem:n,focusOnNext:!0}),e.preventDefault()},F=function(e){var n=p.BF.isNotEmpty(c)?M(c):z();$({originalEvent:e,processedItem:n,selfCheck:!0}),e.preventDefault()},B=function(e){p.BF.isNotEmpty(c)&&(v.some((function(e){return e.key===c.key}))?b(v.filter((function(e){return e.key!==c.key}))):s(p.BF.isNotEmpty(c.parent)?c.parent:c),e.preventDefault())},A=function(e){if(p.BF.isNotEmpty(c)){if(t=c,p.BF.isNotEmpty(t.items))if(v.some((function(e){return e.key===c.key})))D(e);else{var n=v.filter((function(e){return e.parentKey!==c.parentKey}));n.push(c),b(n)}e.preventDefault()}var t},K=function(e){$({originalEvent:e,processedItem:W(),allowHeaderFocus:!1}),e.preventDefault()},V=function(e){$({originalEvent:e,processedItem:z(),focusOnNext:!0,allowHeaderFocus:!1}),e.preventDefault()},_=function(e){if(p.BF.isNotEmpty(c)){var n=p.DV.findSingle(P(),'li[id="'.concat("".concat(d),'"]')),t=n&&(p.DV.findSingle(n,'[data-pc-section="action"]')||p.DV.findSingle(n,"a,button"));t?t.click():n&&n.click()}e.preventDefault()},T=function(e){_(e)},R=function(e){return L(e)&&function(e){return C(e,"label")}(e).toLocaleLowerCase().startsWith(N.current.toLocaleLowerCase())},H=function(e){return!!e&&(0===e.level||function(e){return v&&v.some((function(n){return n.key===e.parentKey}))}(e))&&function(e){return!1!==C(e,"visible")}(e)},L=function(e){return!!e&&!function(e){return C(e,"disabled")}(e)&&!C(e,"separator")},W=function(){return w.find((function(e){return L(e)}))},z=function(){return p.BF.findLast(w,(function(e){return L(e)}))},U=function(e){var n=w.findIndex((function(n){return n.key===e.key}));return(n<w.length-1?w.slice(n+1).find((function(e){return L(e)})):void 0)||e},M=function(e){var n=w.findIndex((function(n){return n.key===e.key}));return(n>0?p.BF.findLast(w.slice(0,n),(function(e){return L(e)})):void 0)||e},q=function(e,n){N.current=(N.current||"")+n;var t=null,r=!1;if(p.BF.isNotEmpty(c)){var a=w.findIndex((function(e){return e.key===c.key}));t=w.slice(a).find((function(e){return R(e)})),t=p.BF.isEmpty(t)?w.slice(0,a).find((function(e){return R(e)})):t}else t=w.find((function(e){return R(e)}));return p.BF.isNotEmpty(t)&&(r=!0),p.BF.isEmpty(t)&&p.BF.isEmpty(c)&&(t=W()),p.BF.isNotEmpty(t)&&$({originalEvent:e,processedItem:t,allowHeaderFocus:!1}),I&&clearTimeout(I.current),I.current=setTimeout((function(){N.current="",I.currentt=null}),500),r},$=function(n){var t=n.originalEvent,r=n.processedItem,a=n.focusOnNext,o=n.selfCheck,i=n.allowHeaderFocus,l=void 0===i||i;p.BF.isNotEmpty(c)&&c.key!==r.key?(s(r),J()):l&&e.onHeaderFocus&&e.onHeaderFocus({originalEvent:t,focusOnNext:a,selfCheck:o})},J=function(){var e=p.DV.findSingle(P(),'li[id="'.concat("".concat(d),'"]'));e&&e.scrollIntoView&&e.scrollIntoView({block:"nearest",inline:"start"})},X=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t||0===r&&e.model;if(!a)return null;for(var o=0;o<a.length;o++){var i=a[o];if((C(i,"key")||i.key)===n)return i;var l=X(n,i.items,r+1);if(l)return l}},Y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=[];return e&&e.forEach((function(e,o){var i=e.key?e.key:(""!==r?r+"_":"")+o,l={item:e,index:o,level:n,key:i,parent:t,parentKey:r};l.items=Y(e.items,n+1,l,i),a.push(l)})),a},Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&e.forEach((function(e){H(e)&&(n.push(e),Z(e.items,n))})),n};return a.useEffect((function(){var n=Y(e.model);h(n)}),[e.model]),a.useEffect((function(){var e=Z(g);k(e)}),[g,v]),a.useEffect((function(){!function(e){var n=Object.entries(e||{}).reduce((function(e,n){var t=x(n,2),r=t[0];if(t[1]){var a=X(r);a&&e.push(a)}return e}),[]);b(n)}(e.expandedKeys)}),[e.expandedKeys]),function(e,n){var t=a.useRef(!1);a.useEffect((function(){if(t.current)return e&&e();t.current=!0}),n)}((function(){var n=p.BF.isNotEmpty(c)?"".concat(e.panelId,"_").concat(c.key):null;m(n)}),[e.panelId,c]),a.createElement(j,{hostName:"PanelMenu",id:e.panelId+"_list",ref:S,role:"tree",tabIndex:-1,ariaActivedescendant:o?d:void 0,panelId:e.panelId,focusedItemId:o?d:void 0,model:g,activeItemPath:v,menuProps:e.menuProps,onFocus:function(e){i(!0)},onBlur:function(){i(!1),s(null),N.current=""},onKeyDown:function(e){var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":D(e);break;case"ArrowUp":F(e);break;case"ArrowLeft":B(e);break;case"ArrowRight":A(e);break;case"Home":K(e);break;case"End":V(e);break;case"Space":T(e);break;case"Enter":case"NumpadEnter":_(e);break;case"Escape":case"Tab":case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!n&&p.BF.isPrintableCharacter(e.key)&&q(e,e.key)}},onItemToggle:function(n){var t=n.processedItem,r=n.expanded;if(e.expandedKeys)e.onToggle&&e.onToggle({item:t.item,expanded:r});else{var a=v.filter((function(e){return e.parentKey!==t.parentKey}));r&&a.push(t),b(a)}t.item&&(t.item=O(O({},t.item),{},{expanded:r})),p.DV.focus(P()),s(t)},level:0,className:t("submenu"),expandIcon:e.expandIcon,collapseIcon:e.collapseIcon,root:!0,ptm:n,cx:t})}));function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}S.displayName="PanelMenuList";var D=a.memo(a.forwardRef((function(e,n){var t=(0,c.qV)(),r=a.useContext(o.UM),u=w.getProps(e,r),d=x(a.useState(u.id),2),f=d[0],b=d[1],y=x(a.useState(null),2),g=y[0],h=y[1],E=x(a.useState([]),2),k=E[0],N=E[1],j=x(a.useState(!1),2);j[0];var I=j[1],O=a.useRef(null),C=w.setMetaData({props:u,state:{id:f,activeItem:g}}),D=C.ptm,F=C.cx,B=C.isUnstyled;(0,i.j)(w.css.styles,B,{name:"panelmenu"});var A=function(e,n){n.disabled?e.preventDefault():(n.command&&n.command({originalEvent:e,item:n}),n.items&&G(e,n),n.url||(e.preventDefault(),e.stopPropagation()))},K=function(e,n){return e?p.BF.getItemValue(e[n]):void 0},V=function(e){return u.expandedKeys?u.expandedKeys[K(e,"key")]:u.multiple?k.some((function(n){return p.BF.equals(e,n)})):p.BF.equals(e,g)},_=function(e){return K(e,"disabled")},T=function(e){return p.BF.equals(e,g)},R=function(e){return"".concat(f,"_").concat(e)},H=function(e,n){return"".concat(e||R(n),"_header")},L=function(e,n){return"".concat(e||R(n),"_content")},W=function(e){var n=!0===p.DV.getAttribute(e.currentTarget,"data-p-highlight")?p.DV.findSingle(e.currentTarget.nextElementSibling,'[data-pc-section="menu"]'):null;n?p.DV.focus(n):Z({originalEvent:e,focusOnNext:!0}),e.preventDefault()},z=function(e){var n=J(e.currentTarget.parentElement)||Y(),t=!0===p.DV.getAttribute(n,"data-p-highlight")?p.DV.findSingle(n.nextElementSibling,'[data-pc-section="menu"]'):null;t?p.DV.focus(t):Z({originalEvent:e,focusOnNext:!1}),e.preventDefault()},U=function(e){ee(e,X()),e.preventDefault()},M=function(e){ee(e,Y()),e.preventDefault()},q=function(e,n){var t=p.DV.findSingle(e.currentTarget,'[data-pc-section="headeraction"]');t?t.click():A(e,n),e.preventDefault()},$=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:e.nextElementSibling,t=p.DV.findSingle(n,'[data-pc-section="header"]');return t?p.DV.getAttribute(t,"data-p-disabled")?$(t.parentElement):t:null},J=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:e.previousElementSibling,t=p.DV.findSingle(n,'[data-pc-section="header"]');return t?p.DV.getAttribute(t,"data-p-disabled")?J(t.parentElement):t:null},X=function(){return $(O.current.firstElementChild,!0)},Y=function(){return J(O.current.lastElementChild,!0)},Z=function(e){var n=e.originalEvent,t=e.focusOnNext,r=e.selfCheck,a=n.currentTarget.closest('[data-pc-section="panel"]'),o=r?p.DV.findSingle(a,'[data-pc-section="header"]'):t?$(a):J(a);o?ee(n,o):t?U(n):M(n)},G=function(e,n){if(!_(n)){var t=!V(n),r=g&&p.BF.equals(n,g)?null:n;if(h(r),u.multiple){var a=k;k.some((function(e){return p.BF.equals(n,e)}))?a=k.filter((function(e){return!p.BF.equals(n,e)})):a.push(n),N(a)}Q({item:n,expanded:t}),t&&e?u.onOpen&&u.onOpen({originalEvent:e,item:n}):u.onClose&&u.onClose({originalEvent:e,item:n})}},Q=function(e){var n=e.item,t=e.expanded,r=void 0!==t&&t;if(u.expandedKeys){var a=P({},u.expandedKeys);r?a[n.key]=!0:delete a[n.key],u.onExpandedKeysChange&&u.onExpandedKeysChange(a)}},ee=function(e,n){n&&p.DV.focus(n)},ne=function(e,n,t){return D(n,{context:{active:V(e),focused:T(e),disabled:_(e),index:t}})};a.useImperativeHandle(n,(function(){return{props:u,getElement:function(){return O.current}}})),(0,c.uU)((function(){!f&&b((0,p._Y)())})),a.useEffect((function(){I(!0),u.model&&u.model.forEach((function(e){e.expanded&&G(null,e)}))}),[u.model]);var te=function(){I(!1)},re=function(e,n){if(!function(e){return!1!==K(e,"visible")}(e))return null;var r=e.id||f+"_"+n,o=V(e),i=(0,p.xW)("p-menuitem-icon",e.icon),c=t({className:F("headerIcon",{item:e})},ne(e,"headerIcon",n)),d=p.Hj.getJSXIcon(e.icon,P({},c),{props:u}),b=t({className:F("headerSubmenuIcon")},ne(e,"headerSubmenuIcon",n)),y=e.items&&p.Hj.getJSXIcon(o?u.collapseIcon||a.createElement(s.D,b):u.expandIcon||a.createElement(m,b)),g=t({className:F("headerLabel")},ne(e,"headerLabel",n)),h=e.label&&a.createElement("span",g,e.label),x=a.createRef(),E=t({href:e.url||"#",tabIndex:"-1",className:F("headerAction")},ne(e,"headerAction",n)),w=a.createElement("a",E,y,d,h);if(e.template){var k={onClick:function(n){return A(n,e)},className:"p-panelmenu-header-link",labelClassName:"p-menuitem-text",submenuIconClassName:"p-panelmenu-icon",iconClassName:i,element:w,props:u,leaf:!e.items,active:o};w=p.BF.getJSXElement(e.template,e,k)}var N=t({id:(null===e||void 0===e?void 0:e.id)||R(n),className:F("panel",{item:e}),style:e.style},ne(e,"panel",n)),j=t({id:H(null===e||void 0===e?void 0:e.id,n),className:F("header",{active:o,item:e}),"aria-label":e.label,"aria-expanded":o,"aria-disabled":e.disabled,"aria-controls":L(null===e||void 0===e?void 0:e.id,n),tabIndex:e.disabled?null:"0",onClick:function(n){return A(n,e)},onKeyDown:function(n){return function(e,n){switch(e.code){case"ArrowDown":W(e);break;case"ArrowUp":z(e);break;case"Home":U(e);break;case"End":M(e);break;case"Enter":case"NumpadEnter":case"Space":q(e,n)}}(n,e)},"data-p-disabled":e.disabled,"data-p-highlight":o,role:"button",style:e.style},ne(e,"header",n)),I=t({className:F("headerContent")},ne(e,"headerContent",n)),O=t({className:F("menuContent")},ne(e,"menuContent",n)),C=t({className:F("toggleableContent",{active:o}),role:"region","aria-labelledby":H(null===e||void 0===e?void 0:e.id,n)},ne(e,"toggleableContent",n)),B=t({classNames:F("transition"),timeout:{enter:1e3,exit:450},onEnter:te,in:o,unmountOnExit:!0,options:u.transitionOptions},ne(e,"transition",n));return a.createElement("div",v({},N,{key:r}),a.createElement("div",j,a.createElement("div",I,w)),a.createElement(l.B,v({nodeRef:x},B),a.createElement("div",v({id:L(null===e||void 0===e?void 0:e.id,n),ref:x},C),a.createElement("div",O,a.createElement(S,{panelId:(null===e||void 0===e?void 0:e.id)||R(n),menuProps:u,onToggle:Q,onHeaderFocus:Z,level:0,model:e.items,expandedKeys:u.expandedKeys,className:"p-panelmenu-root-submenu",submenuIcon:u.submenuIcon,ptm:D,cx:F})))))},ae=u.model?u.model.map(re):null,oe=t({ref:O,className:(0,p.xW)(u.className,F("root")),id:u.id,style:u.style},w.getOtherProps(u),D("root"));return a.createElement("div",oe,ae)})));D.displayName="PanelMenu";var F=t(2018),B=t(5797),A=t(7780),K=t(828),V=t(8055),_=t(9722),T=t(4315),R=t(3003),H=t(579);const L=()=>{const[e,n]=(0,a.useState)([]),[t,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),[c,s]=(0,a.useState)(""),[u,d]=(0,a.useState)(null),[m,p]=(0,a.useState)({}),[f,v]=(0,a.useState)(null),{token:b}=(0,R.d4)((e=>e.token)),{user:y}=(0,R.d4)((e=>e.token)),g=(0,a.useRef)(null),{bookId:h}=(0,T.g)(),x=(0,T.Zp)();(0,a.useEffect)((()=>{(async()=>{try{const e=await _.A.get("".concat("https://atsbooks.onrender.com/","api/book/").concat(h),{headers:{Authorization:"Bearer ".concat(b)}});v(e.data)}catch(e){400===e.status&&(null===g||void 0===g||g.current.show({severity:"error",summary:"Error",detail:"No book found",life:3e3})),console.error("error loading book:",e)}})(),E()}),[]);const E=async()=>{try{const e=(await _.A.get("".concat("https://atsbooks.onrender.com/","api/title/getTitlesByBook/").concat(h),{headers:{Authorization:"Bearer ".concat(b)}})).data,t={};for(const n of e){const e=await _.A.get("".concat("https://atsbooks.onrender.com/","api/file/title/").concat(n._id),{headers:{Authorization:"Bearer ".concat(b)}});t[n._id]=e.data}p(t);const r=e.map((e=>({label:(0,H.jsxs)("div",{className:"flex justify-between align-items-center w-full",children:[(0,H.jsx)("span",{children:e.name}),"Admin"===(null===y||void 0===y?void 0:y.roles)&&(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(F.$,{icon:"pi pi-plus",rounded:!0,text:!0,size:"small",onClick:n=>{n.stopPropagation(),l(e._id),o(!0)}})})]}),items:(t[e._id]||[]).map((n=>({label:(0,H.jsxs)("div",{className:"flex justify-between align-items-center w-full gap-2",children:[(0,H.jsx)("span",{style:{maxWidth:"30%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:n.name,children:n.name}),(0,H.jsxs)("span",{className:"flex gap-2",children:[(0,H.jsx)(F.$,{icon:"pi pi-eye",rounded:!0,text:!0,size:"small",onClick:e=>{e.stopPropagation(),x("/fileview/".concat(n._id))}}),(0,H.jsx)(F.$,{icon:"pi pi-download",rounded:!0,text:!0,size:"small",onClick:e=>{e.stopPropagation(),window.open("".concat("https://atsbooks.onrender.com/","api/file/download/").concat(n._id,"?name=").concat(n.customName||n.name),"_blank")}}),"Admin"===(null===y||void 0===y?void 0:y.roles)&&(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(F.$,{icon:"pi pi-trash",rounded:!0,text:!0,size:"small",severity:"danger",onClick:t=>{t.stopPropagation(),w(n._id,e._id)}})})]})]})})))})));n(r)}catch(t){var e;console.error(t),null===(e=g.current)||void 0===e||e.show({severity:"error",summary:"Error",detail:"Error loading",life:3e3})}},w=async(e,n)=>{try{var t;await _.A.delete("".concat("https://atsbooks.onrender.com/","api/file/").concat(e),{headers:{Authorization:"Bearer ".concat(b)}}),p((t=>(0,r.A)((0,r.A)({},t),{},{[n]:t[n].filter((n=>n._id!==e))}))),E(),null===(t=g.current)||void 0===t||t.show({severity:"success",summary:"Deleted",detail:"File deleted successfuly",life:2e3})}catch(o){var a;console.error(o),null===(a=g.current)||void 0===a||a.show({severity:"error",summary:"Error",detail:"Error deleting",life:3e3})}},[k,N]=(0,a.useState)("");return(0,H.jsxs)("div",{className:"p-4",children:[f&&(0,H.jsx)("h2",{className:"text-center mb-4",children:f.name}),(0,H.jsxs)("div",{className:"flex flex-column md:flex-row gap-4",children:[(null===f||void 0===f?void 0:f.image)&&(0,H.jsx)("div",{className:"flex justify-content-center md:w-4",children:(0,H.jsx)("img",{src:"".concat("https://atsbooks.onrender.com/").concat(f.image),alt:"Book",className:"border-round shadow-2",style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain"}})}),(0,H.jsx)("div",{className:"flex-grow-1",children:(0,H.jsx)(D,{model:e,className:"w-full md:w-30rem"})})]}),(0,H.jsx)(B.l,{header:"Upload new file",visible:t,onHide:()=>{o(!1),d(null),N("")},style:{width:"30rem",borderRadius:"8px",textAlign:"center"},className:"custom-upload-dialog",children:(0,H.jsxs)("div",{className:"flex flex-column gap-4",style:{padding:"1.5rem"},children:[(0,H.jsx)("label",{htmlFor:"fileName",className:"font-medium",style:{textAlign:"left"},children:"File name"}),(0,H.jsx)(V.S,{id:"fileName",placeholder:"Enter file name",value:c,onChange:e=>s(e.target.value),className:"p-inputtext-lg",style:{borderRadius:"6px",width:"100%"}}),(0,H.jsx)(A.e,{mode:"basic",auto:!1,customUpload:!0,chooseLabel:"Choose file",uploadHandler:e=>{var n;let{files:t}=e;d(t[0]),N((null===(n=t[0])||void 0===n?void 0:n.name)||"")},className:"p-button-primary",style:{width:"100%"}}),k&&(0,H.jsxs)("div",{style:{textAlign:"left",fontSize:"0.9rem",color:"#555"},children:[(0,H.jsx)("strong",{children:"Selected file:"})," ",k]}),(0,H.jsxs)("div",{className:"flex justify-content-center gap-3",children:[(0,H.jsx)(F.$,{label:"Upload",onClick:()=>{var e;u?(async e=>{let{files:n}=e;const t=n[0],r=new FormData;r.append("file",t),r.append("title",i),r.append("customName",c);try{var a;await _.A.post("".concat("https://atsbooks.onrender.com/","api/file"),r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(b)}}),E(),o(!1),s(""),null===(a=g.current)||void 0===a||a.show({severity:"success",summary:"Uploaded",detail:"File uploaded successfuly",life:2e3})}catch(u){var l;console.error(u),null===(l=g.current)||void 0===l||l.show({severity:"error",summary:"Error",detail:"Upload failed",life:3e3})}})({files:[u]}):null===(e=g.current)||void 0===e||e.show({severity:"warn",summary:"Error",detail:"Press upload below",life:3e3})},className:"p-button-primary",style:{width:"40%"}}),(0,H.jsx)(F.$,{label:"Cancel",onClick:()=>{o(!1),d(null),N("")},className:"p-button-secondary",style:{width:"40%"}})]})]})}),(0,H.jsx)(K.y,{ref:g})]})}}}]);
//# sourceMappingURL=232.d7f027d3.chunk.js.map
{"version":3,"file":"static/js/131.4c2d93a5.chunk.js","mappings":"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","sources":["Components/GradeUpdate.jsx","Components/Grade.jsx","Components/GradeCreat.jsx","Components/Grades.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport { Button } from 'primereact/button';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { AutoComplete } from \"primereact/autocomplete\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { ConfirmPopup, confirmPopup } from 'primereact/confirmpopup';\r\nconst UpdateGrade = (props) => {\r\n    const [selectedItem, setSelectedItem] = useState(null);\r\n    const items = ['first grade', 'second grade', 'third grade', 'fourth grade', 'fifth grade', 'sixth grade', 'seventh grade', 'eighth grade'];\r\n    const [filteredItems, setFilteredItems] = useState(null);\r\n    const { updateGrade, visible, setVisible, grade } = props;\r\n    const nameRef = useRef(\"\");\r\n    const imageRef = useRef(\"\");\r\n    const toast = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (grade) {\r\n            setSelectedItem(grade.name); // הגדרת הכיתה הנוכחית\r\n        }\r\n    }, [grade]); // יפעל מחדש אם הערך של grade משתנה\r\n\r\n    const searchItems = (event) => {\r\n        setFilteredItems(items);\r\n    };\r\n\r\n    return (\r\n        <Dialog\r\n            visible={visible}\r\n            modal\r\n            header=\"Update Grade\"\r\n            style={{ width: '400px', borderRadius: '8px' }}\r\n            onHide={() => setVisible(false)}\r\n            onClick={(e) => e.stopPropagation()} // מונע את הפיכת הדיאלוג לקישור\r\n        >\r\n            <Toast ref={toast} />\r\n            <ConfirmPopup />\r\n            <div className=\"flex flex-column gap-4\" style={{ padding: '1rem' }}>\r\n                <div className=\"flex flex-column gap-2\">\r\n                    <label htmlFor=\"name\" className=\"font-medium\">Name</label>\r\n                    <AutoComplete\r\n                        id=\"name\"\r\n                        value={selectedItem}\r\n                        suggestions={filteredItems}\r\n                        completeMethod={searchItems}\r\n                        dropdown\r\n                        onChange={(e) => setSelectedItem(e.value)}\r\n                        placeholder=\"Select grade\"\r\n                        className=\"p-inputtext-sm\"\r\n                    />\r\n                </div>\r\n                <div className=\"flex justify-content-center gap-2\">\r\n                    <Button\r\n                        label=\"Update\"\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            updateGrade(selectedItem);\r\n                            setVisible(false);\r\n                          }}\r\n                        className=\"p-button p-button-primary\"\r\n                    />\r\n                    <Button\r\n                        label=\"Cancel\"\r\n                        onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            setVisible(false)\r\n                        }}\r\n                        className=\"p-button p-button-secondary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default UpdateGrade;","import { useState } from \"react\"\r\nimport { Button } from 'primereact/button';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Toast } from 'primereact/toast';\r\nimport { ConfirmDialog } from 'primereact/confirmdialog';\r\nimport { confirmDialog } from 'primereact/confirmdialog';\r\nimport { useRef } from 'react';\r\nimport UpdateGrade from \"./GradeUpdate\"\r\nimport 'primeicons/primeicons.css';\r\nimport axios from 'axios'\r\nimport '../Grade.css';\r\nimport { useSelector } from \"react-redux\";\r\nimport { ConfirmPopup, confirmPopup } from \"primereact/confirmpopup\";\r\n\r\nconst Grade = (props) => {\r\n    const [visible, setVisible] = useState(false);\r\n    const toast = useRef(null);\r\n    const toastDelete = useRef(null);\r\n    const { token } = useSelector((state) => state.token);\r\n    const { user } = useSelector((state) => state.token);\r\n    const navigate = useNavigate();\r\n\r\n    //**********updateGrade\r\n    const updateGrade = async (selectedItem, imageRef) => {\r\n        const updatedGrade = {\r\n            ...props.grade,\r\n            name: selectedItem,\r\n            // image: imageRef.current.value ? imageRef.current.value : props.grade.body,\r\n        };\r\n        try {\r\n            const res = await axios.put(`${process.env.REACT_APP_API_URL}api/grade`, updatedGrade, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            })\r\n            if (res.status === 200) {\r\n                props.setGradesData(res.data)\r\n                if (toast?.current) {\r\n                    toast.current.show({ severity: 'success', summary: 'Updated successfully', life: 3000 });\r\n                }\r\n            }\r\n        } catch (e) {\r\n            if (e.status === 409) {\r\n                if (toast?.current) {\r\n                    toast.current.show({ severity: 'error', summary: 'This grade alredy exits', life: 4000 });\r\n                }\r\n            }\r\n            if (e.status === 400)\r\n                if (toast?.current) {\r\n                    toast.current.show({ severity: 'error', summary: 'Grade name is required', life: 4000 });\r\n                }\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const deleteGrade = async (id) => {\r\n        try {\r\n            const res = await axios.delete(`${process.env.REACT_APP_API_URL}api/grade/${id}`, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n            if (Array.isArray(res.data)) {\r\n                props.setGradesData(res.data);\r\n                if (toast.current) {\r\n                    toast.current.show({ severity: 'success', summary: 'Deleted successfuly', life: 3000 });\r\n                }\r\n\r\n            }\r\n        } catch (e) {\r\n            toast.current.show({\r\n                severity: 'error',\r\n                summary: 'Error deleting',\r\n                detail: e.response?.data?.message || e.message,\r\n                life: 4000\r\n            });\r\n        }\r\n        finally {\r\n            setIsLoading(false); // להחזיר את המצב לאחר סיום הפעולה\r\n        }\r\n    };\r\n\r\n    const [iDdeleteBook, setIDdeleteBook] = useState(null);\r\n    const [deletflage, setDeletflage] = useState(false);\r\n\r\n    const footer = (\r\n        <div className=\"card flex flex-wrap gap-2 justify-content-center\">\r\n            {user?.roles === \"Admin\" && (\r\n                <>\r\n                    <Button icon=\"pi pi-times\" label=\"Delete\"\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            confirmPopup({\r\n                                target: e.currentTarget,\r\n                                message: 'Are you sure you want to delete the grade and all the files in it?',\r\n                                icon: 'pi pi-exclamation-triangle',\r\n                                defaultFocus: 'accept',\r\n                                accept: () => {\r\n                                    e.stopPropagation()\r\n                                    deleteGrade(props.grade._id)\r\n                                    setVisible(false);\r\n                                },\r\n                                reject: () => {\r\n                                    e.stopPropagation()\r\n                                    setVisible(false);\r\n                                }\r\n                            });\r\n                        }} />\r\n\r\n                    <Button label=\"Update\" icon=\"pi pi-pencil\" onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        setVisible(true)\r\n                    }} /></>)}\r\n            <UpdateGrade updateGrade={updateGrade} setVisible={setVisible} visible={visible} grade={props.grade} />\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Toast ref={toast} />\r\n            <ConfirmDialog />\r\n            <Toast ref={toastDelete} />\r\n            <ConfirmPopup />\r\n            <div className=\"col-12 sm:col-6 lg:col-12 xl:col-4 p-2\" key={props.grade._id}>\r\n                <div\r\n                    className=\"p-4 border-1 surface-border surface-card border-round\"\r\n                    onClick={(e) => { e.stopPropagation(); navigate(`/books/${props.grade._id}`) }}\r\n                    style={{ cursor: 'pointer' }}>\r\n\r\n                    <div className=\"flex flex-column align-items-center gap-3 py-5\">\r\n                        <img className=\"course-image\" src={`/pictures/${props.grade.name}.png`} alt={props.grade.name} />\r\n                        <div className=\"text-2xl font-bold\">{props.grade.name}</div>\r\n                    </div>\r\n                    {footer}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Grade","import React, { useState, useRef } from \"react\";\r\nimport { Button } from 'primereact/button';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { AutoComplete } from \"primereact/autocomplete\";\r\n\r\nconst CreateGrade = (props) => {\r\n    const [selectedItem, setSelectedItem] = useState(null);\r\n    const items = ['first grade', 'second grade', 'third grade', 'fourth grade', 'fifth grade', 'sixth grade', 'seventh grade', 'eighth grade'];\r\n    const [filteredItems, setFilteredItems] = useState(null);\r\n    const { createGrade, visibleCreatGrade } = props;\r\n    const searchItems = (event) => {\r\n        setFilteredItems(items);\r\n    };\r\n    const imageRef = useRef(\"\");\r\n    return (\r\n        <Dialog\r\n            visible={visibleCreatGrade}\r\n            modal\r\n            onHide={() => props.setVisibleCreatGrade(false)}\r\n            style={{ width: '25rem', borderRadius: '8px' }} // התאמת רוחב הדיאלוג\r\n            className=\"custom-dialog\"\r\n        >\r\n            <div className=\"flex flex-column gap-4 p-4\">\r\n                {/* Name Input */}\r\n                <div className=\"flex flex-column gap-2\">\r\n                    <label className=\"text-gray-700 font-medium\">Name</label>\r\n                    <AutoComplete\r\n                        value={selectedItem}\r\n                        suggestions={filteredItems}\r\n                        completeMethod={searchItems}\r\n                        virtualScrollerOptions={{ itemSize: 38 }}\r\n                        dropdown\r\n                        onChange={(e) => setSelectedItem(e.value)}\r\n                        className=\"p-inputtext p-3 border border-gray-300 rounded-md w-full\"\r\n                    />\r\n                </div>\r\n                {/* Buttons */}\r\n                <div className=\"flex justify-content-between gap-3\">\r\n                    <Button\r\n                        label=\"Create\"\r\n                        onClick={(e) => { createGrade(selectedItem, imageRef); props.setVisibleCreatGrade(false); }}\r\n                        className=\"bg-indigo-500 text-white px-5 py-2 rounded-md hover:bg-indigo-600\"\r\n                    />\r\n                    <Button\r\n                        label=\"Cancel\"\r\n                        onClick={() => props.setVisibleCreatGrade(false)}\r\n                        className=\"bg-gray-500 text-white px-5 py-2 rounded-md hover:bg-gray-600\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default CreateGrade;","import { useEffect, useState, useRef } from \"react\"\r\nimport { Button } from 'primereact/button';\r\nimport 'primeicons/primeicons.css';\r\nimport axios from 'axios'\r\nimport Grade from \"./Grade\"\r\nimport CreateGrade from \"./GradeCreat\"\r\nimport { DataView, DataViewLayoutOptions } from 'primereact/dataview';\r\nimport { useSelector } from \"react-redux\";\r\nimport { Toast } from 'primereact/toast';\r\nimport '../Styles/Grades.css';\r\n\r\nconst Grades = () => {\r\n    const { token } = useSelector((state) => state.token);\r\n    const { user } = useSelector((state) => state.token);\r\n    const [gradesData, setGradesData] = useState([])\r\n    const [visibleCreatGrade, setVisibleCreatGrade] = useState(false);\r\n    const toast = useRef(null);\r\n\r\n    //GET - getAllGrades/\r\n    const getGrades = async () => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}api/grade`)\r\n            if (res.status === 200) {\r\n                setGradesData(res.data)\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    const getGradeById = async (id) => {\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}api/grade/${id}`)\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    //******Grade - createGrade***** */\r\n    const createGrade = async (selectedItem, imageRef) => {\r\n        const newGrade = {\r\n            name: selectedItem,\r\n            image: imageRef.current.value ? imageRef.current.value : \" \"\r\n        }\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}api/grade`, newGrade, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            })\r\n            if (res.status === 201) {\r\n                getGrades()\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (e.status === 409) {\r\n                if (toast?.current) {\r\n                    toast.current.show({ severity: 'error', summary: 'This grade alredy exits', life: 4000 });\r\n                }\r\n            }\r\n            if (e.status === 400)\r\n                if (toast?.current) {\r\n                    toast.current.show({ severity: 'error', summary: 'Grade name is required', life: 4000 });\r\n                }\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    //********useEffect\r\n    useEffect(() => {\r\n        getGrades()\r\n    }, [])\r\n\r\n    const itemTemplate = (grade, index) => {\r\n        if (!grade) {\r\n            return;\r\n        }\r\n        return <Grade grade={grade} getGrades={getGrades} setGradesData={setGradesData} />;\r\n    };\r\n\r\n    const listTemplate = (gradesData) => {\r\n        return <div className=\"grid grid-nogutter\" >{gradesData.map((grade, index) => itemTemplate(grade, index))}</div>;\r\n    };\r\n\r\n    return (<>\r\n        <Toast ref={toast} />\r\n        {user?.roles === \"Admin\" && (\r\n            <Button icon=\"pi pi-plus\" rounded aria-label=\"Filter\" onClick={() => setVisibleCreatGrade(true)} className=\"add-button\" />)}\r\n        <CreateGrade createGrade={createGrade} setVisibleCreatGrade={setVisibleCreatGrade} visibleCreatGrade={visibleCreatGrade} />\r\n        <div className=\"card\">\r\n            <DataView value={gradesData} listTemplate={listTemplate} />\r\n        </div>\r\n    </>)\r\n}\r\n\r\nexport default Grades"],"names":["props","selectedItem","setSelectedItem","useState","items","filteredItems","setFilteredItems","updateGrade","visible","setVisible","grade","toast","useRef","useEffect","name","_jsxs","Dialog","modal","header","style","width","borderRadius","onHide","onClick","e","stopPropagation","children","_jsx","Toast","ref","ConfirmPopup","className","padding","htmlFor","AutoComplete","id","value","suggestions","completeMethod","event","dropdown","onChange","placeholder","Button","label","toastDelete","token","useSelector","state","user","navigate","useNavigate","isLoading","setIsLoading","iDdeleteBook","setIDdeleteBook","deletflage","setDeletflage","footer","roles","_Fragment","icon","confirmPopup","target","currentTarget","message","defaultFocus","accept","async","res","axios","delete","concat","process","headers","Array","isArray","data","setGradesData","current","show","severity","summary","life","_e$response","_e$response$data","detail","response","deleteGrade","_id","reject","UpdateGrade","imageRef","updatedGrade","_objectSpread","put","status","console","error","ConfirmDialog","cursor","src","alt","createGrade","visibleCreatGrade","setVisibleCreatGrade","virtualScrollerOptions","itemSize","Grades","gradesData","getGrades","get","rounded","CreateGrade","newGrade","image","post","DataView","listTemplate","map","index","itemTemplate","Grade"],"sourceRoot":""}
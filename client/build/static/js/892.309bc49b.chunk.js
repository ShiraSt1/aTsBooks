"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[892],{4892:(e,r,s)=>{s.r(r),s.d(r,{default:()=>c});var a=s(9379),t=s(5043),l=s(9722),i=s(4315),n=s(2545),o=s(579);const c=()=>{const[e,r]=(0,t.useState)(""),[s,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),p=(0,i.Zp)(),[g,A]=(0,t.useState)({email:"",name:"",password:"",phone:""});(0,t.useEffect)((()=>{x(e),j(m),N(s)}),[e,m,s]);const x=e=>{r(e),e?/^\S+@\S+\.\S+$/.test(e)?A((e=>(0,a.A)((0,a.A)({},e),{},{email:""}))):A((e=>(0,a.A)((0,a.A)({},e),{},{email:"Enter a valid email address"}))):A((e=>(0,a.A)((0,a.A)({},e),{},{email:"This field is required"})))},j=e=>{h(e),e?e.length<4?A((e=>(0,a.A)((0,a.A)({},e),{},{name:"At least 4 characters required"}))):A((e=>(0,a.A)((0,a.A)({},e),{},{name:""}))):A((e=>(0,a.A)((0,a.A)({},e),{},{name:"This field is required"})))},N=e=>{c(e),e?e.length<6?A((e=>(0,a.A)((0,a.A)({},e),{},{password:"Minimum 6 characters required"}))):A((e=>(0,a.A)((0,a.A)({},e),{},{password:""}))):A((e=>(0,a.A)((0,a.A)({},e),{},{password:"This field is required"})))},v=Object.values(g).every((e=>""===e))&&e&&m&&s;return(0,o.jsx)("div",{className:"register-page-container",children:(0,o.jsxs)("div",{className:"register-form-container",children:[(0,o.jsx)("h2",{className:"register-title",children:"Create an Account"}),(0,o.jsxs)("form",{className:"register-form",children:[(0,o.jsxs)("div",{className:"register-input-wrapper",children:[(0,o.jsx)("label",{className:"register-label",children:"Full Name"}),(0,o.jsx)("input",{type:"text",value:m,onChange:e=>j(e.target.value),className:"register-input",placeholder:"Enter your full name"}),g.name&&(0,o.jsx)("small",{className:"register-error",children:g.name})]}),(0,o.jsxs)("div",{className:"register-input-wrapper",children:[(0,o.jsx)("label",{className:"register-label",children:"Email"}),(0,o.jsx)("input",{type:"email",value:e,onChange:e=>x(e.target.value),className:"register-input",placeholder:"Enter your email address"}),g.email&&(0,o.jsx)("small",{className:"register-error",children:g.email})]}),(0,o.jsxs)("div",{className:"register-input-wrapper",children:[(0,o.jsx)("label",{className:"register-label",children:"Password"}),(0,o.jsx)(n._,{value:s,inputClassName:"register-input",onChange:e=>N(e.target.value),placeholder:"Enter your password"}),g.password&&(0,o.jsx)("small",{className:"register-error",children:g.password})]}),(0,o.jsxs)("div",{className:"register-input-wrapper",children:[(0,o.jsx)("label",{className:"register-label",children:"Phone Number"}),(0,o.jsx)("input",{type:"text",value:u,onChange:e=>{return r=e.target.value,/^\d*$/.test(r)?r.length>10?A((e=>(0,a.A)((0,a.A)({},e),{},{phone:"The phone number can contain up to 10 digits only."}))):A((e=>(0,a.A)((0,a.A)({},e),{},{phone:""}))):A((e=>(0,a.A)((0,a.A)({},e),{},{phone:"The phone number can only contain digits."}))),void d(r);var r},className:"register-input",placeholder:"Enter your phone number"}),g.phone&&(0,o.jsx)("small",{className:"register-error",children:g.phone})]}),(0,o.jsx)("button",{onClick:()=>(async(e,r,s,a)=>{const t={name:e,email:r,phone:s,password:a};try{const e=await l.A.post("".concat("https://atsbooks.onrender.com/","api/user/register"),t);409===e.status?alert("email exits"):200!==e.status&&201!==e.status||(alert("Your request to join has been sent to the site administrator. You will receive an email notification when your request is approved."),p("../login"))}catch(i){alert("An error occurred while creating the user. Please try again later. Eror:",i),console.error(i)}})(m,e,u,s),className:"register-button",disabled:!v,children:"Register"})]})]})})}}}]);
//# sourceMappingURL=892.309bc49b.chunk.js.map
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[892],{4892:(e,s,r)=>{r.r(s),r.d(s,{default:()=>d});var a=r(9379),t=r(5043),l=r(9722),i=r(4315),n=r(2545),c=r(3740),o=r(579);const d=()=>{const[e,s]=(0,t.useState)(""),[r,d]=(0,t.useState)(""),[u,p]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),g=(0,i.Zp)(),[x,A]=(0,t.useState)(!1),[j,N]=(0,t.useState)({email:"",name:"",password:"",phone:""});(0,t.useEffect)((()=>{b(e),v(h),w(r)}),[e,h,r]);const b=e=>{s(e),e?/^\S+@\S+\.\S+$/.test(e)?N((e=>(0,a.A)((0,a.A)({},e),{},{email:""}))):N((e=>(0,a.A)((0,a.A)({},e),{},{email:"Enter a valid email address"}))):N((e=>(0,a.A)((0,a.A)({},e),{},{email:"This field is required"})))},v=e=>{m(e),e?e.length<4?N((e=>(0,a.A)((0,a.A)({},e),{},{name:"At least 4 characters required"}))):N((e=>(0,a.A)((0,a.A)({},e),{},{name:""}))):N((e=>(0,a.A)((0,a.A)({},e),{},{name:"This field is required"})))},w=e=>{d(e),e?e.length<6?N((e=>(0,a.A)((0,a.A)({},e),{},{password:"Minimum 6 characters required"}))):N((e=>(0,a.A)((0,a.A)({},e),{},{password:""}))):N((e=>(0,a.A)((0,a.A)({},e),{},{password:"This field is required"})))},y=Object.values(j).every((e=>""===e))&&e&&h&&r;return(0,o.jsx)("div",{className:"register-page-container",children:(0,o.jsxs)("div",{className:"register-form-container",children:[x&&(0,o.jsxs)("div",{className:"loading-container",children:[(0,o.jsx)(c.p,{style:{width:"30px",height:"30px"}}),(0,o.jsx)("p",{children:"Your request is being processed..."})]}),(0,o.jsx)("h2",{className:"register-title",children:"Create an Account"}),(0,o.jsxs)("form",{className:"register-form",children:[(0,o.jsxs)("div",{className:"register-input-wrapper",children:[(0,o.jsx)("label",{className:"register-label",children:"Full Name"}),(0,o.jsx)("input",{type:"text",value:h,onChange:e=>v(e.target.value),className:"register-input",placeholder:"Enter your full name"}),j.name&&(0,o.jsx)("small",{className:"register-error",children:j.name})]}),(0,o.jsxs)("div",{className:"register-input-wrapper",children:[(0,o.jsx)("label",{className:"register-label",children:"Email"}),(0,o.jsx)("input",{type:"email",value:e,onChange:e=>b(e.target.value),className:"register-input",placeholder:"Enter your email address"}),j.email&&(0,o.jsx)("small",{className:"register-error",children:j.email})]}),(0,o.jsxs)("div",{className:"register-input-wrapper",children:[(0,o.jsx)("label",{className:"register-label",children:"Password"}),(0,o.jsx)(n._,{value:r,inputClassName:"register-input",onChange:e=>w(e.target.value),placeholder:"Enter your password",toggleMask:!0,feedback:!1}),j.password&&(0,o.jsx)("small",{className:"register-error",children:j.password})]}),(0,o.jsxs)("div",{className:"register-input-wrapper",children:[(0,o.jsx)("label",{className:"register-label",children:"Phone Number"}),(0,o.jsx)("input",{type:"text",value:u,onChange:e=>{return s=e.target.value,/^\d*$/.test(s)?s.length>10?N((e=>(0,a.A)((0,a.A)({},e),{},{phone:"The phone number can contain up to 10 digits only."}))):N((e=>(0,a.A)((0,a.A)({},e),{},{phone:""}))):N((e=>(0,a.A)((0,a.A)({},e),{},{phone:"The phone number can only contain digits."}))),void p(s);var s},className:"register-input",placeholder:"Enter your phone number"}),j.phone&&(0,o.jsx)("small",{className:"register-error",children:j.phone})]}),(0,o.jsx)("small",{children:"*Your request to join will be sent to the site administrator. You\u2019ll receive an email once it\u2019s approved."}),(0,o.jsx)("button",{type:"button",onClick:()=>(async(e,s,r,a)=>{A(!0);const t={name:e,email:s,phone:r,password:a};try{const e=await l.A.post("".concat("https://atsbooks.onrender.com/","api/user/register"),t);409===e.status?alert("email exits"):200!==e.status&&201!==e.status||g("/login")}catch(i){alert("An error occurred while creating the user. Please try again later. Eror:",i),console.error(i)}finally{A(!1)}})(h,e,u,r),className:"register-button",disabled:!y,children:"Register"})]})]})})}}}]);
//# sourceMappingURL=892.6737752a.chunk.js.map